<div class="content-body">
     <!-- Breadcrumb  -->
     <app-breadcrumb [breadcrumb]="breadcrumbList"> </app-breadcrumb>
    <div class="container-fluid">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h5 class="mb-0">Tasks Summary</h5>
            <div class="d-flex align-items-center">
                <div class="icon-box  icon-box-sm task-tab me-2">
                    <a routerLink="/admin/task-summary">
                        <svg width="20" height="20" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.50032 3H2.66699V8.83333H8.50032V3Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17.6668 3H11.8335V8.83333H17.6668V3Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17.6668 12.1667H11.8335V18H17.6668V12.1667Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8.50032 12.1667H2.66699V18H8.50032V12.1667Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                </div>
                <a href="javascript:void(0)" class="btn btn-primary btn-sm ms-2" (click)="openCenter(exampleModal1)">+ Add Task</a>
            </div>
            <!-- nodel  -->
            <ng-template #exampleModal1 let-modal>
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Add Task</h1>
                    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="'col-xl-12">
                            <div class="mb-3">
                              <label for="exampleFormControlInput1" class="form-label">Title<span class="text-danger">*</span></label>
                              <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Title Name">
                            </div>
                        </div>
                        <div class="col-xl-6">
                            <div class="mb-3">
                              <label for="exampleFormControlInput2" class="form-label">Contacts<span class="text-danger">*</span></label>
                              <input type="number" class="form-control" id="exampleFormControlInput2" placeholder="+910213598458">
                            </div>
                        </div>
                        <div class="col-xl-6 mb-3">
                            <label class="form-label">priority<span class="text-danger">*</span></label>
                            <select class="default-select style-1 form-control">
                                <option  data-display="Select">priority</option>
                                <option value="html">Hight</option>
                                <option value="css">Medium</option>
                                <option value="javascript">Low</option>
                            </select>
                        </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-danger light" (click)="modal.dismiss('Cross click')">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                  </div>
            </ng-template>
        </div>
        <div class="row">
            <div class="col-xl-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row task">
                            <div class="col-xl-2 col-sm-4 col-6">
                                <div class="task-summary">
                                    <div class="d-flex align-items-center">
                                        <h2 class="text-primary count">@if(counter <= 8) { {{ counter }} } @else{ 8 }</h2> 
                                        <span>Not Started</span>
                                    </div>
                                    <p>Tasks assigne</p>
                                </div>
                            </div>
                            <div class="col-xl-2 col-sm-4 col-6">
                                <div class="task-summary">
                                    <div class="d-flex align-items-center">
                                        <h2 class="text-purple count">@if(counter <= 7) { {{ counter }} } @else{ 7 }</h2>
                                        <span>In Progress</span>
                                    </div>	
                                    <p>Tasks assigne</p>
                                </div>
                            </div>
                            <div class="col-xl-2 col-sm-4 col-6">
                                <div class="task-summary">
                                    <div class="d-flex align-items-center">
                                        <h2 class="text-warning count">@if(counter <= 13) { {{ counter }} } @else{ 13 }</h2>
                                        <span>Testing</span>
                                    </div>	
                                    <p>Tasks assigne</p>
                                </div>
                            </div>
                            <div class="col-xl-2 col-sm-4 col-6">
                                <div class="task-summary">
                                    <div class="d-flex align-items-center">
                                        <h2 class="text-danger count">@if(counter <= 15) { {{ counter }} } @else{ 15 }</h2>
                                        <span>Awaiting</span>
                                    </div>	
                                    <p>Tasks assigne</p>
                                </div>
                            </div>
                            <div class="col-xl-2 col-sm-4 col-6">
                                <div class="task-summary">
                                    <div class="d-flex align-items-center">
                                        <h2 class="text-success count">@if(counter <= 21) { {{ counter }} } @else{ 21 }</h2>
                                        <span>Complete</span>
                                    </div>	
                                    <p>Tasks assigne</p>
                                </div>
                            </div>
                            <div class="col-xl-2 col-sm-4 col-6">
                                <div class="task-summary">
                                    <div class="d-flex align-items-center">	
                                        <h2 class="text-danger count">@if(counter <= 16) { {{ counter }} } @else{ 16 }</h2>
                                        <span>pending</span>
                                    </div>	
                                    <p>Tasks assigne</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-12">
                <div class="card">
                    <div class="card-body p-0">
                        <div class="table-responsive active-projects task-table dataTables_wrapper">
                            <div class="tbl-caption">
                                <h4 class="heading mb-0">Task</h4>
                            </div>
                            <table matSort (matSortChange)="sortData($event)" id="empoloyeestbl2" class="table">
                                <thead>
                                    <tr>
                                        <th>
                                            <div class="form-check custom-checkbox">
                                                <input type="checkbox" class="form-check-input" id="checkAll" (click)="checkUncheckAll()">
                                                <label class="form-check-label" for="checkAll"></label>
                                            </div>
                                        </th>
                                        <th mat-sort-header="id">#</th>
                                        <th mat-sort-header="name">Name</th>
                                        <th mat-sort-header="status">Status</th>
                                        <th mat-sort-header="start_date">Start Date</th>
                                        <th mat-sort-header="end_date">End Date</th>
                                        <th mat-sort-header="assigned">Assigned To</th>
                                        <th mat-sort-header="tags">Tags</th>
                                        <th mat-sort-header="priority"class="text-end">Priority</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for(item of allData.data; track item){
                                    <tr>
                                        <td>
                                            <div class="form-check custom-checkbox">
                                                <input type="checkbox" class="form-check-input" id="customCheckBox3" [checked]="boxActive">
                                                <label class="form-check-label" for="customCheckBox3"></label>
                                            </div>
                                        </td>
                                        <td><span>{{ item.id }}</span></td>
                                        <td>
                                            <div class="products">
                                                <div>
                                                    <h6>{{ item.name }}</h6>
                                                    <span>INV-100023456</span>
                                                </div>	
                                            </div>
                                        </td>
                                        <td>
                                            <app-dropdown [dropdown]="dropdown_status1" [active_value]="item.status"></app-dropdown>
                                        </td>
                                        <td><span>{{ item.start_date }}</span></td>
                                        <td>
                                            <span>{{ item.end_date }}</span>
                                        </td>
                                        <td>
                                            <div class="avatar-list avatar-list-stacked">
                                                <img *ngFor="let img of item.assigned; trackBy: trackByFn" [src]="img" class="avatar rounded-circle" alt="">
                                            </div>
                                        </td>	
                                        <td>
                                            <span *ngFor="let tag of item.tags; trackBy: trackByFn" class="badge badge-primary light border-0 me-1">{{ tag }}</span>
                                        </td>
                                        <td class="text-end">
                                            <app-dropdown [dropdown]="dropdown_status2" [active_value]="item.priority"></app-dropdown>
                                        </td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                            <div class="dataTables_info" id="example5_info" role="status" aria-live="polite">Showing {{page}} to
                                {{totalRows}} of {{ allData.total }} entries</div>
                            <div class="dataTables_paginate paging_simple_numbers pt-2">
                            <app-pagination [totalPage]="totalPage" [page]="page" (newPage)="pageChange($event)"></app-pagination>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>