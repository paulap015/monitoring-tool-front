<div class="content-body default-height">
    <!-- Breadcrumb  -->
    <app-breadcrumb [breadcrumb]="breadcrumbList" [style2]="true"></app-breadcrumb>

    <div class="container-fluid">
      <div class="row">
        <div class="col-xl-12">

            <app-aikit-head [data]="headData"></app-aikit-head>

          <div class="card h-auto">
            <div class="card-body p-0">
              <div class="table-responsive active-projects style-1 aikit-table dataTables_wrapper">
                <table matSort (matSortChange)="sortData($event)" id="empoloyees-tblwrapper" class="table table-striped-thead mb-4">
                  <thead>
                    <tr>
                      <th mat-sort-header="desc">Description</th>
                      <th mat-sort-header="keywords">Keywords</th>
                      <th mat-sort-header="status">Status</th>
                      <th mat-sort-header="interval">Interval</th>
                      <th mat-sort-header="last_generation" class="texr-nowrap">Last generation</th>
                      <th mat-sort-header="next_generation" class="text-noerap">Next generation</th>
                      <th mat-sort-header="running">Is running</th>
                      <th mat-sort-header="run_count">Run count</th>
                      <th mat-sort-header="max_run_count">Max run count</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for(item of allData.data; track item){
                    <tr>
                      <td class="text-black text-nowrap">{{ item.desc }}</td>
                      <td> {{ item.keywords }} </td>
                      <td>
                        <span class="badge badge-success badge-sm light">{{ item.status }}</span>
                      </td>
                      <td>{{ item.interval }}</td>
                      <td class="text-nowrap">{{ item.last_generation }}</td>
                      <td class="text-nowrap">{{ item.next_generation }}</td>
                      <td>
                        @if(item.running == 'No'){
                            <span class="badge badge-light">{{ item.running }}</span>
                        } @else {
                            <span class="badge badge-success">{{ item.running }}</span>
                        }
                      </td>
                      <td>{{ item.run_count }}</td>
                      <td>{{ item.max_run_count }}</td>
                      <td>
                        <a href="javascript:void(0);" class="btn btn-primary light btn-sharp mb-2 me-1">
                          <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.625 2.37519C10.7892 2.21104 10.984 2.08082 11.1985 1.99199C11.413 1.90315 11.6429 1.85742 11.875 1.85742C12.1071 1.85742 12.337 1.90315 12.5515 1.99199C12.766 2.08082 12.9608 2.21104 13.125 2.37519C13.2892 2.53934 13.4194 2.73422 13.5082 2.94869C13.597 3.16317 13.6428 3.39304 13.6428 3.62519C13.6428 3.85734 13.597 4.08721 13.5082 4.30168C13.4194 4.51616 13.2892 4.71104 13.125 4.87519L4.6875 13.3127L1.25 14.2502L2.1875 10.8127L10.625 2.37519Z" stroke="var(--primary)" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                          </svg>
                        </a>
                        <a href="javascript:void(0);" class="btn btn-danger light btn-sharp mb-2">
                          <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1.875 4.25H3.125H13.125" stroke="#FF5B5B" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M11.875 4.25V13C11.875 13.3315 11.7433 13.6495 11.5089 13.8839C11.2745 14.1183 10.9565 14.25 10.625 14.25H4.375C4.04348 14.25 3.72554 14.1183 3.49112 13.8839C3.2567 13.6495 3.125 13.3315 3.125 13V4.25M5 4.25V3C5 2.66848 5.1317 2.35054 5.36612 2.11612C5.60054 1.8817 5.91848 1.75 6.25 1.75H8.75C9.08152 1.75 9.39946 1.8817 9.63388 2.11612C9.8683 2.35054 10 2.66848 10 3V4.25" stroke="#FF5B5B" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M6.25 7.375V11.125" stroke="#FF5B5B" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M8.75 7.375V11.125" stroke="#FF5B5B" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
                          </svg>
                        </a>
                      </td>
                    </tr>
                    }
                  </tbody>
                </table>
                 <div class="dataTables_info" id="example5_info" role="status" aria-live="polite">Showing {{page}} to
                  {{totalRows}} of {{ allData.total }} entries</div>
                <div class="dataTables_paginate paging_simple_numbers">
                  <app-pagination [totalPage]="totalPage" [page]="page" (newPage)="pageChange($event)"></app-pagination>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>